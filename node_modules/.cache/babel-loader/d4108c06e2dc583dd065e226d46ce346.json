{"ast":null,"code":"import _regeneratorRuntime from \"/Users/james/GitHub/SPRING-NFT-builder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/james/GitHub/SPRING-NFT-builder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/james/GitHub/SPRING-NFT-builder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/james/GitHub/SPRING-NFT-builder/src/upload.js\";\nimport React, { useState } from 'react';\nimport ReactDOM from \"react-dom\";\nimport { Upload } from 'antd';\nimport ImgCrop from 'antd-img-crop';\nexport function ImageUpload() {\n  var _this = this;\n\n  var Demo = function Demo() {\n    var _useState = useState([{\n      uid: '-1',\n      name: 'image.png',\n      status: 'done',\n      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n    }]),\n        _useState2 = _slicedToArray(_useState, 2),\n        fileList = _useState2[0],\n        setFileList = _useState2[1];\n\n    var onChange = function onChange(_ref) {\n      var newFileList = _ref.fileList;\n      setFileList(newFileList);\n    };\n\n    var onPreview = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(file) {\n        var src, image, imgWindow;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                src = file.url;\n\n                if (src) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 4;\n                return new Promise(function (resolve) {\n                  var reader = new FileReader();\n                  reader.readAsDataURL(file.originFileObj);\n\n                  reader.onload = function () {\n                    return resolve(reader.result);\n                  };\n                });\n\n              case 4:\n                src = _context.sent;\n\n              case 5:\n                image = new Image();\n                image.src = src;\n                imgWindow = window.open(src);\n                imgWindow.document.write(image.outerHTML);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function onPreview(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return /*#__PURE__*/React.createElement(ImgCrop, {\n      rotate: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Upload, {\n      action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\n      listType: \"picture-card\",\n      fileList: fileList,\n      onChange: onChange,\n      onPreview: onPreview,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, fileList.length < 5 && '+ Upload'));\n  };\n}","map":{"version":3,"sources":["/Users/james/GitHub/SPRING-NFT-builder/src/upload.js"],"names":["React","useState","ReactDOM","Upload","ImgCrop","ImageUpload","Demo","uid","name","status","url","fileList","setFileList","onChange","newFileList","onPreview","file","src","Promise","resolve","reader","FileReader","readAsDataURL","originFileObj","onload","result","image","Image","imgWindow","window","open","document","write","outerHTML","length"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,MAAT,QAAuB,MAAvB;AACA,OAAOC,OAAP,MAAoB,eAApB;AAEA,OAAO,SAASC,WAAT,GAAuB;AAAA;;AAE9B,MAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA,oBACeL,QAAQ,CAAC,CACvC;AACEM,MAAAA,GAAG,EAAE,IADP;AAEEC,MAAAA,IAAI,EAAE,WAFR;AAGEC,MAAAA,MAAM,EAAE,MAHV;AAIEC,MAAAA,GAAG,EAAE;AAJP,KADuC,CAAD,CADvB;AAAA;AAAA,QACVC,QADU;AAAA,QACAC,WADA;;AAUjB,QAAMC,QAAQ,GAAG,SAAXA,QAAW,OAA+B;AAAA,UAAlBC,WAAkB,QAA5BH,QAA4B;AAC9CC,MAAAA,WAAW,CAACE,WAAD,CAAX;AACD,KAFD;;AAIA,QAAMC,SAAS;AAAA,2EAAG,iBAAMC,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACZC,gBAAAA,GADY,GACND,IAAI,CAACN,GADC;;AAAA,oBAEXO,GAFW;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAGF,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AACjC,sBAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,kBAAAA,MAAM,CAACE,aAAP,CAAqBN,IAAI,CAACO,aAA1B;;AACAH,kBAAAA,MAAM,CAACI,MAAP,GAAgB;AAAA,2BAAML,OAAO,CAACC,MAAM,CAACK,MAAR,CAAb;AAAA,mBAAhB;AACD,iBAJW,CAHE;;AAAA;AAGdR,gBAAAA,GAHc;;AAAA;AASVS,gBAAAA,KATU,GASF,IAAIC,KAAJ,EATE;AAUhBD,gBAAAA,KAAK,CAACT,GAAN,GAAYA,GAAZ;AACMW,gBAAAA,SAXU,GAWEC,MAAM,CAACC,IAAP,CAAYb,GAAZ,CAXF;AAYhBW,gBAAAA,SAAS,CAACG,QAAV,CAAmBC,KAAnB,CAAyBN,KAAK,CAACO,SAA/B;;AAZgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAATlB,SAAS;AAAA;AAAA;AAAA,OAAf;;AAeA,wBACE,oBAAC,OAAD;AAAS,MAAA,MAAM,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,MAAM,EAAC,kDADT;AAEE,MAAA,QAAQ,EAAC,cAFX;AAGE,MAAA,QAAQ,EAAEJ,QAHZ;AAIE,MAAA,QAAQ,EAAEE,QAJZ;AAKE,MAAA,SAAS,EAAEE,SALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOGJ,QAAQ,CAACuB,MAAT,GAAkB,CAAlB,IAAuB,UAP1B,CADF,CADF;AAaD,GA1CD;AA4CC","sourcesContent":["import React, { useState } from 'react';\nimport ReactDOM from \"react-dom\";\nimport { Upload } from 'antd';\nimport ImgCrop from 'antd-img-crop';\n\nexport function ImageUpload() {\n\nconst Demo = () => {\n  const [fileList, setFileList] = useState([\n    {\n      uid: '-1',\n      name: 'image.png',\n      status: 'done',\n      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n    },\n  ]);\n\n  const onChange = ({ fileList: newFileList }) => {\n    setFileList(newFileList);\n  };\n\n  const onPreview = async file => {\n    let src = file.url;\n    if (!src) {\n      src = await new Promise(resolve => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file.originFileObj);\n        reader.onload = () => resolve(reader.result);\n      });\n    }\n    const image = new Image();\n    image.src = src;\n    const imgWindow = window.open(src);\n    imgWindow.document.write(image.outerHTML);\n  };\n\n  return (\n    <ImgCrop rotate>\n      <Upload\n        action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n        listType=\"picture-card\"\n        fileList={fileList}\n        onChange={onChange}\n        onPreview={onPreview}\n      >\n        {fileList.length < 5 && '+ Upload'}\n      </Upload>\n    </ImgCrop>\n  );\n};\n\n}"]},"metadata":{},"sourceType":"module"}